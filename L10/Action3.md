## Action3  
**如果你是某P2P租车的技术负责人，你会如何设计个性化推荐和搜索排序；阐述相似车型，搜索排序的设计方法、可能的embedding策略**  
1、相似车型的设计：  
（1）根据用户的点击行为序列对车辆进行embedding，其中剔除页面停留时间小于10s的车辆信息及点击次数等于1的车辆信息，同时将单个序列的时间窗口设为30分钟，即当用户两次点击时间间隔大于30分钟时，生成新的点击行为序列。  
（2）在进行embedding的过程中，正样本取自用户点击行为序列中的车辆信息以及用户最终预订的车辆信息，负样本随机取自全车辆样本信息以及与用户点击行为序列位于同一省市的全量车辆样本信息。  
（3）对于新上传的车辆信息，根据车辆型号、所在地区、购车价格、车辆购置时间等信息，选取与该车辆信息相近的5个车辆信息的embedding平均值作为新车辆的embedding。  
（4）计算用户类型属性与候选车辆信息类型属性之间的余弦相似度，推荐给用户相似度高的车辆信息。  
2、搜索排序的设计：  
（1）根据不同用户、车辆的属性进行相似性聚合；  
a、用户类型属性：所在城市、所在区域、过往预订次数、过往预订单日租金、用户评分（车主对用户的打分）、过往预订日期【注：该属性可以用来区分不同租车目的的人群，例如对于商务租车的人群，其过往预订时间应该具有持续性，其对于车辆的租用诉求一般会趋向于商务型用车；而对于节日租车的人群，其过往预订时间应该集中于节假日，其对于车辆的租用诉求一般趋向于高端品牌型用车】、年龄、性别；  
b、车辆类型属性：所在城市、所在区域、品牌（本田、大众、宝马等）、车型（微型车、中型车、SUV等）、购车价格、排量（1.0L及以下、1.0-1.6L等）、能源（汽油、混合动力等）、预订单日租金、用户评分（用户对车辆的打分）、车辆购置时长、车辆类型（商务用车、婚庆用车、出行用车等）；  
（2）针对用户按时间排序的预订序列，采用用户类型及车辆类型进行embedding的训练，其中对于车主接受的预订行为作为正样本进行训练，而对于车主拒绝的预订行为作为负样本进行训练。  
