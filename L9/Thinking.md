## L9 Thinking
**1、什么是近似最近邻查找，常用的方法有哪些?**  
答：最近邻查找是根据特征的相似性，从数据集中寻找与目标数据最为相似的项目，而由于最近邻查找的复杂度是线性的，所以在对大规模数据集进行查找过程中，为缩短查找时间，往往采用聚类的方法预测目标数据所属的数据类别，从而在该数据类别中查找近邻数据，从而在牺牲部分可接受范围内精度的情况下，提升搜索效率。  
近似最近邻查找的常用方法有两种：（1）局部敏感哈希（LSH），通过哈希函数的映射将相邻的数据放到一个桶内，查找时在目标数据所在的桶内查找最近邻数据。其中最常用的是SimHash算法。（2）矢量量化，将一个向量空间中的点用其中的一个有限子集来进行编码的过程，最常用的是PQ乘积量化。  
**2、为什么两个集合的minhash值相同的概率等于这两个集合的Jaccard相似度?**  
答：假设两个集合中有a行同时为1，b行一个集合为1一个集合为0，c行同时为0，那么（1）根据定义，这两个集合的Jaccard相似度为a/(a+b)；（2）由于同时为0的行对于计算minhash值没有任何影响，故可以略去只考虑同时为1及一个1一个0的情况，此时两个集合的minhash值相同的概率等价于同时为1出现在第一行的概率，即同样为a/(a+b)。  
**3、SimHash在计算文档相似度的作用是怎样的？**  
答：SimHash算法在计算文档相似度时的作用是大幅减少相似度计算的复杂度，提升算法的运行效率，该算法在大规模文档相似度计算上有显著的效果，具体步骤如下：  
（1）将文档进行分词得到有效的特征向量，并根据分词结果的出现频率设置相应的权重；  
（2）通过Hash函数计算各个特征向量的Hash值，Hash值为01组成的n位签名；  
（3）在Hash值的基础上，对所有特征向量进行加权，当Hash值为1时，则结果为正权重，为0时则为负权重，并将结果进行累加形成一个序列串；  
（4）对n位签名的累加结果进行降维，对于累加结果大于0的位数置1，否则置0，最终形成该文档的Simhash签名；  
（5）计算不同文档间的汉明距离得到最终的文档相似度。
**4、为什么YouTube采用期望观看时间作为评估指标？**  
答：由于YouTube的商业模式是在在线视频中插入广告，从而获取广告费收入；所以对于YouTube而言，用户在网页上观看视频的时间越长，越有可能去点击其中的广告，相对而言，短频快的视频浏览并不能为Youtube带来实质性的商业价值，故在视频推荐过程中，Youtube专注于提升用户的预期观看时长，而非增加用户对于视频的点击。  
**5、为什么YouTube在排序阶段没有采用经典的LR（逻辑回归）当作输出层，而是采用了Weighted Logistic Regression？**  
答：如上题所述，由于Youtube是以提升用户预期观看时长作为推荐目标，传统LR作为输出层仅能反映用户是否点击视频，而对于视频观看时长并没有体现；故YouTube在排序阶段采用Weighted LR算法，将正样本用观看时间进行赋权，此时odds近似等于期望观看时长。  
